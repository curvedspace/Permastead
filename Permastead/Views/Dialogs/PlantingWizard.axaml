<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="500"
        xmlns:vm="using:Permastead.ViewModels.Dialogs"
        x:Class="Permastead.Views.Dialogs.PlantingWizard"
        x:DataType="vm:PlantingWizardViewModel"
        x:CompileBindings="True"
        Title="New Planting">
    
    <!--This is design time only-->
    <Design.DataContext>
        <vm:PlantingWizardViewModel/>
    </Design.DataContext>
    
    <Grid ColumnDefinitions="*,Auto" RowDefinitions="*,Auto"  Margin="10,10,10,10">
    <StackPanel Grid.Row="0" VerticalAlignment="Top" HorizontalAlignment="Stretch">
      
      <Border BorderBrush="{DynamicResource TextControlBorderBrush}"
              BorderThickness="2"
              CornerRadius="3"
              Padding="10" Margin="10">
        
        <Grid ColumnDefinitions="*,2*, *, 3*" RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto,*"  Margin="10,0,0,0">
        <TextBlock Grid.Row="0" Grid.Column="0" Margin="15">Code:</TextBlock>
        <TextBox Grid.Row="0" Grid.Column="1" 
                 Text="{Binding CurrentPlanting.Code}"
                 IsEnabled="True" Margin="10,10,10,10"></TextBox>
        <Label Grid.Row="0" Grid.Column="2" Margin="10">Start Date:</Label>
        <CalendarDatePicker Grid.Row="0" Grid.Column="3" Margin="10" Name = "StartDate" SelectedDate="{Binding CurrentPlanting.StartDate, Mode=TwoWay}">
        </CalendarDatePicker>
        
        <TextBlock Grid.Row="1" Grid.Column="0" Margin="10,10,10,10">Description:</TextBlock>
        <TextBox Grid.Row="1" Grid.Column="1" Grid.ColumnSpan="3" Text="{Binding ControlViewModel.CurrentItem.Description}" Margin="10,10,10,10"></TextBox>
        
        <TextBlock Grid.Row="2" Grid.Column="0" Margin="15">Plant:</TextBlock>
        <ComboBox Width="200" Grid.Row="2" Grid.Column="1" Margin="10" ItemsSource="{Binding Plants, Mode=TwoWay}"
                    SelectedItem="{Binding CurrentPlant, Mode=TwoWay}" AutoScrollToSelectedItem="True">
            <ComboBox.ItemTemplate>
              <DataTemplate >
                <TextBlock Text="{Binding Description}" />
              </DataTemplate>
            </ComboBox.ItemTemplate>
        </ComboBox>
        
        <TextBlock Grid.Row="2" Grid.Column="2" Margin="15">Vendor:</TextBlock>
        <AutoCompleteBox Grid.Row="2" Grid.Column="3" x:Name = "VendorName" ItemsSource="{Binding Vendors}" 
                Grid.ColumnSpan="1" Grid.RowSpan="1" Margin="0,10,10,10" 
                Text="{Binding CurrentPlanting.SeedPacket.Vendor.Description}"></AutoCompleteBox>
          
        <TextBlock Grid.Row="3" Grid.Column="0" Margin="15" >Seasonality:</TextBlock>
        <ComboBox Grid.Row="3" Grid.Column="1" Width="200" Margin="10" ItemsSource="{Binding Seasonalities, Mode=TwoWay}"
                  SelectedItem="{Binding CurrentPlanting.SeedPacket.Seasonality, Mode=TwoWay}" AutoScrollToSelectedItem="True">
          <ComboBox.ItemTemplate>
            <DataTemplate >
              <TextBlock Text="{Binding Description, Mode=TwoWay}" />
            </DataTemplate>
          </ComboBox.ItemTemplate>
        </ComboBox>
          
          <TextBlock Grid.Row="3" Grid.Column="2" Margin="15" >State:</TextBlock>
          <ComboBox Grid.Row="3" Grid.Column="3" Width="200" Margin="0,10,10,10" ItemsSource="{Binding PlantingStates, Mode=TwoWay}"
                    SelectedItem="{Binding CurrentPlanting.State, Mode=TwoWay}" AutoScrollToSelectedItem="True" >
            <ComboBox.ItemTemplate>
              <DataTemplate >
                <TextBlock Text="{Binding Description, Mode=TwoWay}" />
              </DataTemplate>
            </ComboBox.ItemTemplate>
          </ComboBox>

      
        <TextBlock x:Name = "LocationName" Grid.Row="4" Grid.Column="0" Margin="15">Location:</TextBlock>
        <AutoCompleteBox Grid.Row="4" Grid.Column="1" ItemsSource="{Binding Beds}" 
                         Grid.ColumnSpan="1" Grid.RowSpan="1" Margin="10,10,10,10" 
                         Text="{Binding CurrentPlanting.Bed.Description}"></AutoCompleteBox>
          
          <TextBlock Grid.Row="4" Grid.Column="2" Margin="15">Species:</TextBlock>
          <TextBox Grid.Row="4" Grid.Column="3" Margin="0,10,10,10" Grid.ColumnSpan="1" Grid.RowSpan="1" ></TextBox>
        
          <TextBlock Grid.Row="5" Grid.Column="0" Margin="10,15" >Starter Type:</TextBlock>
          <ComboBox Grid.Row="5" Grid.Column="1" Width="200" Margin="10" ItemsSource="{Binding StarterTypes, Mode=TwoWay}"
                    SelectedItem="{Binding CurrentPlanting.SeedPacket.StarterType, Mode=TwoWay}" 
                    AutoScrollToSelectedItem="True" >
            <ComboBox.ItemTemplate>
              <DataTemplate >
                <TextBlock Text="{Binding Description, Mode=TwoWay}" />
              </DataTemplate>
            </ComboBox.ItemTemplate>
          </ComboBox>
          
        <TextBlock Grid.Row="6" Grid.Column="0" Margin="15">Instructions:</TextBlock>
        <TextBox Grid.Row="6" Grid.Column="1" Grid.ColumnSpan="3" Grid.RowSpan="2" Margin="10" 
                 Text="{Binding CurrentPlanting.SeedPacket.Instructions}"></TextBox>
        
      </Grid>
      </Border>
      
    </StackPanel>
    
    <Image Grid.Row="1" Grid.Column="0" HorizontalAlignment="Left" Margin="10,15,0,0" Width="32" Height="32" Source="/Assets/leaf_plant.png" />
        
    <StackPanel Grid.Row="1" Grid.Column="0" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,10,0">
      <Button Name="SaveButton" IsEnabled="True" Margin="10" Click="SaveButton_OnClick" >Save</Button>
      <Button Name="CancelButton" Margin="10" Click="CancelButton_OnClick">Cancel</Button>
    </StackPanel>
    
    </Grid>
</Window>
